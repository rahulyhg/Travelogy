@model WebApplication1.Models.MessageListModel

@*get all message threads for the user*@
@foreach (var item in Model.AllMessages)
{
    // pass the threads to the "_MessageThread" partial view
    var _model = new WebApplication1.Models.MessageListItemViewModel() { MessageThread = item };
    Html.RenderPartial("_MessageThread", _model);
}


@if (Request.IsAuthenticated)
{
    var _model = new WebApplication1.Models.MessageViewModel();
    Html.RenderPartial("_MessageThreadStart", _model);
}






