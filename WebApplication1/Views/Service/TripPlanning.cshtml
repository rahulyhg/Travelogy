@model WebApplication1.Models.TripPlanningViewModel

@{
    ViewBag.Title = "Trip Planner";
}

<div class="row">
    <div class="col-md-12 padd-10">
        <img class="img-responsive" src="~/Content/img/gallery/big/slider001.jpg" />
    </div>
</div>

@if (!Request.IsAuthenticated)
{
    @Html.Partial("_TripPlanningNotLoggedInView")
}
else // for logged in users
{
    // user has not created any trip yet
    // show the create options
    if (Model.AllTrips == null || Model.AllTrips.Count == 0)
    {
        <div class="row tag-box tag-box-v5">
            <div class="col-md-8">
                <span>You have not planned any trip yet!</span>
            </div>
            <div class="col-md-4">
                <a href="/circuit">
                    <p><button class="btn-u btn-u-lg btn-u-orange"><i class="icon-cloud"></i> Browse all circuits...</button></p>
                </a>                
            </div>
        </div>

        <div class="row tag-box tag-box-v1">
            <h1 class="orange">Featured circuits</h1>
            <div class="row">
                @foreach (var item in Model.SuggestedDestinations)
                {
                    <div class="col-md-12 col-sm-12">
                        @Html.Partial("_DestinationWidget", item)
                    </div>
                }
            </div>
        </div>

        
    }

    // planned trips
    else if (Model.PlannedTrips != null && Model.PlannedTrips.Count > 0)
    {
        foreach (var trip in Model.PlannedTrips)
        {
            Html.RenderPartial("_TripPlanningPlannedTripSummary", trip);
        }

        <div class="row tag-box tag-box-v5">
            <div class="col-md-8">
                <span>Planned more trips for future!</span>
            </div>
            <div class="col-md-4">
                <a href="/circuit">
                    <p><button class="btn-u btn-u-lg btn-u-orange"><i class="icon-cloud"></i> Browse all circuits...</button></p>
                </a>
            </div>
        </div>
    }
}





